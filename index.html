<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="src/assets/icons/mx-creations.svg">
    <link rel="stylesheet" type="text/css" href="src/assets/styles/base.css">
    <link rel="stylesheet" type="text/css" href="src/assets/styles/landing.css">
    <link rel="stylesheet" type="text/css" href="src/assets/styles/affiche.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css">
    <title>Melflix</title>
</head>
<body>
    <header>
        <div>
            <img src="src/assets/icons/mx-creations.svg" alt="logo">
            <i class="bi bi-list" style="font-size: 2.2em;"></i>
            <div>
                <a href="index.html">A l'affiche</a>
                <a href="last.html">Derniers ajouts</a>
                <a href="">Catégories</a>
            </div>
        </div>
        <img id="logo" src="src/assets/icons/mx-creations.svg" alt="logo">
        <div>
            <i class="bi bi-search"></i>
            <a href="">Ma liste</a>
        </div>
    </header>

    <div id="trailer">
        <video autoplay muted playsinline class="background-video">
            <source src="src/assets/videos/trailer.mp4" type="video/mp4">
            Votre navigateur ne supporte pas la balise vidéo.
        </video>
        
        <div id="trailer-content">
                <h1 id="titre">Abigail</h1>
                <div id="infos">
                    <span id="annee">2024</span> • <span id="genre">Horreur</></span>
                </div>
                <div id="badges">
                    <span id="langage">VF</span>
                    <span id="qualite">HD</span>
                </div>
                <div id="control">
                    <button onclick="window.location.href = 'film.html#149365965'" id="play">Lecture<i class="bi bi-play-fill"></i></button>
                    <button id="add-list">Ajouter a ma liste <i class="bi bi-plus"></i></button>
                </div>
        </div>
    </div>

    <h1 id="titre-section">A l'affiche</h1>
    <div id="films">
        
    </div>

    <script src="src/scripts/working.js"></script>
    <script src="src/scripts/getMovie.js"></script>
    <script>
        addToAffiche(0);
        let firstScroll = true;
        window.addEventListener("scroll", async (event) => {
        if (firstScroll) {
            firstScroll = false;
            await new Promise(r => setTimeout(r, 300));
            await animationList(document.querySelectorAll('.film'));
        };
        });
        document.addEventListener("wheel", async (event) => {
        if (window.scrollY < window.innerHeight && event.deltaY > 0) {
            event.preventDefault();
            window.scrollTo({
            top: window.innerHeight,
            behavior: "smooth",
            });
        } else if (window.scrollY <= window.innerHeight && event.deltaY < 0) {
            event.preventDefault();
            window.scrollTo({
            top: 0,
            behavior: "smooth",
            });
        }
        }, { passive: false });
    </script>
</body>
</html>